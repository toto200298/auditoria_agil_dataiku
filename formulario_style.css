:root{
  /* Paleta clara profesional */
  --bg:#f7f9fc;          /* fondo general */
  --paper:#ffffff;       /* tarjetas/paneles */
  --ink:#0f172a;         /* texto principal */
  --sub:#475569;         /* texto secundario */
  --muted:#64748b;       /* texto muted */
  --border:#e2e8f0;      /* bordes */
  --pri:#4f46e5;         /* indigo-600 */
  --pri-weak:#6366f1;    /* indigo-500 */
  --ok:#16a34a;          /* green-600 */
  --warn:#f59e0b;        /* amber-500 */
  --err:#ef4444;         /* red-500 */
  --chip:#f1f5f9;        /* slate-100 */
}
*{box-sizing:border-box}
body{margin:0; font-family:Inter,system-ui,Segoe UI,Roboto,Helvetica,Arial,sans-serif; color:var(--ink); background:var(--bg);}  

.header-intro {
  background-color: #0b2545; /* Azul marino */
  color: #f1f5f9;           /* Texto claro */
  padding: 2rem;
  border-radius: 12px;
  text-align: center;
}

.header-intro h1 {
  color: #e2e8f0;           /* Gris claro elegante */
  font-size: 2rem;
  margin-bottom: 1rem;
  font-weight: 700;
}

.header-intro p {
  color: #cbd5e1;           /* Gris azulado más suave */
  font-size: 1.1rem;
  line-height: 1.6;
  max-width: 1600px;
  margin: 0 auto;
}

.header-intro b {
  color: #ffffff;           /* Negritas destacadas en blanco */
}

h1{margin:0 0 6px; font-size:22px; font-weight:800}
p.lead{margin:0; color:var(--sub); max-width:1600px}

/* Layout principal */
main{display:grid; grid-template-columns:360px 1fr; gap:16px; padding:16px; align-items:start}
@media (max-width: 1024px){ main{grid-template-columns:1fr} }
.card{background:var(--paper); border:1px solid var(--border); border-radius:16px; padding:14px}

/* Intro mejorada */
.intro{padding:28px; background:linear-gradient(135deg,#f9fbff,#ffffff);}
.intro-hero{text-align:center; margin-bottom:20px;}
.intro-hero h2{font-size:24px; color:var(--pri); margin:0 0 6px;}
.intro-hero p{font-size:16px; color:var(--sub); max-width:1600px; margin:0 auto;}

.intro-grid{display:grid; gap:20px; grid-template-columns:repeat(auto-fit,minmax(260px,1fr)); margin-top:8px;}
.intro-grid h3{font-size:18px; color:var(--ink); margin:0 0 8px;}
.intro-grid p,.intro-grid ul{font-size:14px; color:var(--sub); line-height:1.55;}
.intro-grid ul{padding-left:18px; margin:0;}

/* Lista de métricas en dos columnas en escritorio */
.intro-metrics{ padding-left:18px; margin:0; font-size:14px; color:var(--sub); line-height:1.55; column-gap:28px; }
@media (min-width: 900px){ .intro-metrics{ columns: 2; } }
.intro-metrics li{ break-inside: avoid; margin-bottom:6px; }

.intro-hint{display:flex; align-items:flex-start; gap:10px; margin-top:16px; padding:12px 14px; border:1px dashed var(--border); border-radius:12px; background:#fbfdff}
.intro-hint .pill{background:color-mix(in oklab, var(--pri) 12%, var(--chip)); color:var(--pri)}

/* KPI panel */
.kpi-panel{ grid-column:1 / -1; }
/* Grid adaptativo para que siempre se vean todas las métricas */
.kpis{ display:grid; grid-template-columns:repeat(auto-fit, minmax(240px,1fr)); gap:16px; }
.kpi{padding:14px; border:1px solid var(--border); border-radius:14px; background:#fbfdff; position:relative; min-height:140px; display:flex; flex-direction:column; justify-content:flex-start}
.kpi h3{margin:0 0 6px; font-size:13px; font-weight:700; color:var(--sub); text-transform:uppercase; letter-spacing:.5px}
.kpi .val{font-size:28px; font-weight:900}
.kpi .foot{margin-top:auto; font-size:11px; color:var(--muted)}
.kpi.ok{outline:2px solid color-mix(in oklab, var(--ok) 28%, transparent)}
.kpi.warn{outline:2px solid color-mix(in oklab, var(--warn) 28%, transparent)}
.kpi.err{outline:2px solid color-mix(in oklab, var(--err) 28%, transparent)}

/* Aside/formulario */
.row{display:flex; align-items:center; justify-content:space-between; gap:10px}
.pill{display:inline-flex; align-items:center; gap:6px; padding:6px 10px; border-radius:999px; border:1px solid var(--border); background:var(--chip); color:var(--sub); font-size:12px}
.score{font-size:34px; font-weight:900; padding:6px 10px; border-radius:12px; border:1px solid var(--border)}
.score.ok{color:var(--ok); border-color:color-mix(in oklab, var(--ok) 30%, transparent); background:color-mix(in oklab, var(--ok) 12%, white)}
.score.warn{color:var(--warn); border-color:color-mix(in oklab, var(--warn) 30%, transparent); background:color-mix(in oklab, var(--warn) 12%, white)}
.score.err{color:var(--err); border-color:color-mix(in oklab, var(--err) 30%, transparent); background:color-mix(in oklab, var(--err) 12%, white)}
.bar{height:10px; background:linear-gradient(90deg, var(--pri), var(--pri-weak)); border-radius:999px}
.bar-wrap{height:10px; background:var(--chip); border:1px solid var(--border); border-radius:999px; overflow:hidden}
.btn{appearance:none; border:1px solid var(--border); background:var(--paper); color:var(--ink); border-radius:10px; padding:9px 12px; cursor:pointer; font-weight:600}
.btn:hover{background:#fafcff}
.btn.primary{background:var(--pri); color:white; border-color:color-mix(in oklab, var(--pri) 30%, transparent)}
.btn.primary:hover{background:var(--pri-weak)}
.btn.success{background:var(--ok); color:white; border-color:color-mix(in oklab, var(--ok) 30%, transparent)}
.btn.warn{background:var(--warn); color:#111}
.ghost-input, textarea{width:100%; padding:9px 10px; border:1px solid var(--border); border-radius:10px; background:white; color:var(--ink)}
.details{border:1px solid var(--border); border-radius:14px; overflow:hidden; background:var(--paper)}
summary{cursor:pointer; list-style:none; padding:12px 14px; background:#f8fafc; border-bottom:1px solid var(--border); font-weight:700; display:flex; align-items:center; justify-content:space-between}
summary::-webkit-details-marker{display:none}
.section{padding:12px 14px}
.checks{display:grid; gap:10px}
.check{display:grid; gap:6px; padding:12px; border:1px dashed var(--border); border-radius:12px; background:#f9fbff}
.check label{display:flex; gap:10px; align-items:flex-start; font-weight:600}
.check input{margin-top:3px; transform:scale(1.15)}
.desc{color:var(--muted); font-size:.92rem}
.weight{margin-left:auto; color:var(--pri); font-size:.85rem}
.badge{display:inline-flex; align-items:center; gap:6px; padding:4px 8px; border:1px solid var(--border); border-radius:999px; font-size:12px; color:var(--sub); background:var(--chip)}
.semaforo{height:10px;width:10px;border-radius:50%}
.summary-right{display:flex; align-items:center; gap:8px}
.form-footer{display:flex; gap:8px; margin-top:8px}

/* Plan de acción */
.plan{background:var(--paper); border:1px solid var(--border); border-radius:16px; padding:12px}
.plan h3{margin:4px 0 10px}
.plan textarea{min-height:520px; font-family:ui-monospace, SFMono-Regular, Menlo, monospace; font-size:12px}

/* Posición del plan: debajo del formulario en escritorio */
@media (min-width:1025px){ #planBox{grid-column:2 / 3;} }

@media print{
  .no-print{display:none !important}
  body{background:#fff}
  header{border:0}
  .card{break-inside:avoid; page-break-inside:avoid}
}
.muted{color:var(--muted)}